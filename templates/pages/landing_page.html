{% extends 'layouts/base.html' %}
{% load humanize %}
{% load static %}
{% block title %}
    Home
{% endblock %}
{% block content %}
    <style>
        .signup-login i, .sweet-deals i {
            color: #D33665;
        }

        .details i {
            color: #D33665;
        }

        .carousel-caption {
            bottom: 40%
        }

        .carousel img {
            max-height: 500px;
            object-fit: cover;
        }

        .carousel-caption {
            background-color: rgba(255, 255, 255, 0.8);
        }


    </style>
    {% include 'partials/navbar.html' %}

    <!-- Carousel -->
    <div class="h-50 carousel carousel-dark carousel-fade shadow-lg mb-5" data-bs-ride="carousel"
         id="carouselExampleCaptions">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
                    aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3"
                    aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4"
                    aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="5"
                    aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="{% static 'images/rachel-kelli-IwhYst0ZX_8-unsplash.jpg' %}" class="d-block w-100"
                     alt="Candy Image">
                <div class=" p-5 carousel-caption w-auto h-auto mx-auto my-auto">
                    <!-- Section Title -->
                    <div class="row mt-3 mx-auto mt-auto">
                        <h1 class="text-center">Join Today</h1>
                    </div>
                    <!-- Signin and Login links -->
                    <div class="signup-login mw-100 row my-auto d-flex flex-row justify-content-center">
                        <a href="{% url 'signin' %}"
                           class="w-auto text-decoration-none">Login</a>
                        <a href="{% url 'signup' %}"
                           class="w-auto text-decoration-none">Signup</a>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/denny-muller-mGP8gyGb8zY-unsplash.jpg' %}" class="d-block w-100"
                     alt="Candy Image">
                <div class="p-5 carousel-caption w-auto h-auto mx-auto my-auto">
                    <h1>Categories</h1>
                    <a href="{% url 'all_candy'  %}" class="text-decoration-none">
                        Browse Categories
                    </a>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/customerbox-aXq1oCCjlVM-unsplash.jpg' %}" class="d-block w-100"
                     alt="Candy Image">
                <div class="p-5 carousel-caption w-auto h-auto mx-auto my-auto">
                    <h1>Its a Candy Land!</h1>
                    <p>A diverse collection of sweets for any party! </p>
                    <a href="{% url 'product_categories' category='Sweets' %}" class="text-decoration-none">Browse Sweets</a>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/egor-lyfar-DPNrBT1WCMs-unsplash.jpg' %}" class="d-block w-100"
                     alt="Candy Image">
                <div class="p-5 carousel-caption w-auto h-auto mx-auto my-auto">
                    <h1>Sweetest Deals</h1>
                    <p>Dandia the sweetest deals in town!</p>
                    <a href="{% url 'all_candy' %}" class="text-decoration-none text-center">Browse</a>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/jessica-loaiza-DHYfjAe_eeo-unsplash.jpg' %}" class="d-block w-100"
                     alt="Candy Image">
                <div class="p-5 carousel-caption w-auto h-auto mx-auto my-auto">
                    <h1>Chocolate Haven</h1>
                    <p>A variety of chocolates for any palate. </p>
                    <a href="{% url 'product_categories' category='Chocolate' %}" class="text-decoration-none">Browse Chocolates</a>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/karsten-winegeart-PL5FZkW0Qkk-unsplash.jpg' %}" class="d-block w-100 h-100"
                     alt="Candy Image">
                <div class=" p-5 carousel-caption w-auto h-auto mx-auto my-auto">
                    <h1>Sweet Discounts</h1>
                    <p>Dandia discounts on different products</p>
                    <a href="{% url 'all_candy' %}" class="text-decoration-none">Browse</a>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
                    data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
                    data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>


    <!-- Latest Confectionery -->
    <section class="w-100 my-2">
        <div class="sweet-deals container px-3 p-3 mw-100 bg-white">
            <!-- Section Title -->
            <div class="w-auto mx-auto">
                <h1 class="text-center my-3 fw-bold fs-1">Sweet Deals</h1>
            </div>

            <div class="mx-auto p-3 d-flex flex-row justify-content-start w-100 overflow-scroll">
                <!-- Latest products -->
                {% for candy in latest_candy %}
                    <!-- Product Card -->
                    <div class="card p-3 m-2  w-25 h-auto bg-white shadow-lg" style="min-width: 250px">
                        <!-- Candy Image -->
                        <div class="card-img">
                            <a href="" class="card-link">
                                <img src="{{ candy.image.url }}" alt="Product Image" class="img-fluid w-100 h-auto">
                            </a>

                        </div>
                        <!-- Card title and text -->
                        <div class="card-body text-center">
                            <div class="card-title w-100 h-auto">
                                <a href="{% url 'product_details' candy.id %}" class="text-decoration-none">
                                    <h6>{{ candy.flavour }} {{ candy.category_name }} {% if candy.add_ons != 'Plain' %} with {{ candy.add_ons }} {% endif %}</h6>
                                </a>
                            </div>
                            <div class="product card-text w-auto h-auto">
                                <a title="View {{ candy.brand }}" class="text-muted card-link text-decoration-none"
                                   href="{% url 'brand_categories' candy.brand %}"
                                   style="font-size: .8em">{{ candy.brand | capfirst }}</a>
                                <p class="fw-bold" style='font-size: 1.1em'>Ksh. {{ candy.price | intcomma }}</p>
                            </div>
                            <!-- Card links -->
                            <div class="card-link d-flex flex-row justify-content-evenly mt-2" style="font-size: .9em">
                                <!-- View Product -->
                                <a href="{% url 'product_details' candy.id %}" class="" title="View Product">
                                    <i class="fa-solid fa-eye"></i>
                                </a>
                                <!-- Add item to cart -->
                                <a href="" class="" title="Add to Cart">
                                    <i class="fa-solid fa-shopping-cart"></i>
                                </a>
                                <!-- Add item to wishlist -->
                                <a href="" class="" title="Add to Wish List">
                                    <i class="fa-solid fa-heart"></i>
                                </a>
                            </div>

                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

    </section>

    <!-- More information: Delivery, Candies and Payment -->
    <section class="details d-flex flex-row justify-content-evenly w-100 my-2 container">

        <!-- Delivery info -->
        <div class="shadow-lg col text-center m-3 p-5 d-flex flex-column justify-content-evenly mw-100">

            <div class="row d-flex justify-content-evenly">
                <i class="fa-truck fa-solid fs-1 m-4"></i>
            </div>
            <div class="row d-flex h-75 justify-content-evenly">
                <h6 style="font-size: 1.2em; color: #D33665;">Delivery</h6>
                <p style="font-size: .9em">We deliver across Kenya</p>
            </div>

        </div>
        <!-- Candy info -->
        <div class="shadow-lg col text-center m-3 p-5 d-flex flex-column justify-content-evenly mw-100">

            <div class="row d-flex justify-content-evenly">
                <i class="fa-candy-cane fa-solid fs-1 m-4"></i>
            </div>
            <div class="row d-flex h-75 justify-content-evenly">
                <h6 style="font-size: 1.2em; color: #D33665;">Candies</h6>
                <p style="font-size: .9em">A diverse assortment of candy</p>
            </div>

        </div>
        <!-- Payment info -->
        <div class="shadow-lg col text-center m-3 p-5 d-flex flex-column justify-content-evenly mw-100">

            <div class="row d-flex justify-content-evenly">
                <i class="fa-money-bill fa-solid fs-1 m-4"></i>
            </div>
            <div class="row d-flex h-75 justify-content-evenly">
                <h6 style="font-size: 1.2em; color: #D33665;">Payment</h6>
                <p style="font-size: .9em">Pay via Mobile Money or Cash</p>
            </div>

        </div>

    </section>

    {% include 'partials/footer.html' %}
{% endblock %}

